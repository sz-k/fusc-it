window.reImg={OutputProcessor:function(e,o){var a=function(){return e.indexOf("data:image/png")===0};var r=function(t,n){var e=document.createElement("a");e.href=t;e.download=n;document.body.appendChild(e);e.click()};return{toBase64:function(){return e},toImg:function(){var t=document.createElement("img");t.src=e;return t},toCanvas:function(t){var n=document.createElement("canvas");var e=o.getBoundingClientRect();n.width=e.width;n.height=e.height;var a=n.getContext("2d");var r=this.toImg();r.onload=function(){a.drawImage(r,0,0);t(n)}},toPng:function(){if(a()){var t=document.createElement("img");t.src=e;return t}this.toCanvas(function(t){var n=document.createElement("img");n.src=t.toDataURL();return n})},toJpeg:function(t){t=t||1;(function(e){this.toCanvas(function(t){var n=document.createElement("img");n.src=t.toDataURL("image/jpeg",e);return n})})(t)},downloadPng:function(n){n=n||"image.png";if(a()){r(e,n);return}this.toCanvas(function(t){r(t.toDataURL(),n)})}}},fromSvg:function(t){var n=(new XMLSerializer).serializeToString(t);return new this.OutputProcessor("data:image/svg+xml;base64,"+window.btoa(n),t)},fromCanvas:function(t){var n=t.toDataURL();return new this.OutputProcessor(n)}};
